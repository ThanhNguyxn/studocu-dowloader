/* ==================== StudoCu Downloader Pro - Viewer Styles ====================
   Based on Studocu-Helper viewer_styles.css
   ==================== */

body { 
    background-color: #f6f7fb !important; 
    margin: 0 !important; 
    overflow: auto !important; 
}

/* Hide original page content, show only viewer */
body > *:not(#clean-viewer-container) { 
    display: none !important; 
}

#clean-viewer-container {
    position: absolute !important; 
    top: 0 !important; 
    left: 0 !important; 
    width: 100% !important;
    display: flex !important; 
    flex-direction: column !important; 
    align-items: center !important;
    padding: 30px 0 !important; 
    z-index: 9999 !important;
    background-color: #f6f7fb !important;
}

.std-page {
    position: relative !important; 
    background-color: white !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important; 
    margin-bottom: 20px !important;
    display: block !important; 
    overflow: hidden !important; 
    border: none !important;
}

.std-page::after {
    content: "";
    position: absolute !important; 
    bottom: 0 !important; 
    left: 0 !important; 
    width: 100% !important; 
    height: 4px !important;
    background-color: white !important; 
    z-index: 9999 !important; 
    pointer-events: none !important;
}

.layer-bg { 
    position: absolute !important; 
    top: 0 !important; 
    left: 0 !important; 
    width: 100% !important; 
    height: 100% !important; 
    z-index: 1 !important; 
    pointer-events: none !important; 
}

.layer-bg img { 
    width: 100% !important; 
    height: 100% !important; 
    object-fit: cover !important; 
    object-position: top center !important; 
    display: block !important; 
}

.layer-text { 
    position: absolute !important; 
    top: 0 !important; 
    left: 0 !important; 
    width: 100% !important; 
    height: 100% !important; 
    z-index: 10 !important; 
    overflow: visible !important; 
}

.layer-text .pc, 
.layer-text .pc * { 
    transform: none !important; 
    -webkit-transform: none !important;
    overflow: visible !important; 
    max-width: none !important; 
    max-height: none !important; 
}

/* ==================== Print Styles ==================== */
@media print {
    @page { 
        margin: 0; 
        size: auto;
    }
    
    body { 
        background-color: white !important; 
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* Hide everything except viewer */
    body > *:not(#clean-viewer-container) {
        display: none !important;
    }
    
    #clean-viewer-container { 
        position: static !important; 
        width: 100% !important; 
        padding: 0 !important; 
        margin: 0 !important;
        display: block !important;
    }
    
    .std-page {
        width: auto !important;
        height: auto !important;
        margin: 0 !important; 
        margin-bottom: 0 !important;
        box-shadow: none !important;
        page-break-after: always !important;
        break-after: always !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        border: none !important;
        position: relative !important;
        display: block !important;
        overflow: visible !important;
    }
    
    .std-page:last-child {
        page-break-after: auto !important;
    }
    
    .std-page::after {
        display: none !important;
    }
    
    /* IMPORTANT: Force images visible in print */
    .layer-bg {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        display: block !important;
        visibility: visible !important;
        z-index: 1 !important;
    }
    
    .layer-bg img {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    .layer-text {
        display: block !important;
        visibility: visible !important;
        z-index: 10 !important;
    }
}
